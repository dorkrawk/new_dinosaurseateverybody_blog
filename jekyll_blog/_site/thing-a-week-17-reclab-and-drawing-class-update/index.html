<h2 class="post_title">Thing A Week 17 - RecLab and Drawing Class Update</h2>
<div class="post_date">May 5, 2014</div>

<div class="post">
<p>This week, while I was busy with the first week of my new job, I did manage to get some RecLab work done. Also, I&#39;m a few weeks into my drawing class, so I wanted to post an update from that.</p>

<p>While not the most productive RecLab week, I did finish the basic comment functionality for Users, Songs, and Tracks. I also learned about <code>seed.rb</code> and wrote some seed code for the Instruments data. The trick there was that I wanted to be able to run <code>rake db:seed</code> multiple times, so I needed seed code that would let me update or create records. I ended up with a nice solution that lets me break the instruments down into separate arrays by family and then loop through everything to create or update:</p>

<div class="highlight"><pre><code class="ruby"><span class="n">instruments</span> <span class="o">=</span> <span class="o">[[</span><span class="n">strings</span><span class="p">,</span> <span class="s2">&quot;strings&quot;</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">woodwinds</span><span class="p">,</span> <span class="s2">&quot;woodwinds&quot;</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">brass</span><span class="p">,</span> <span class="s2">&quot;brass&quot;</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">percussion</span><span class="p">,</span> <span class="s2">&quot;percussion&quot;</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">keys</span><span class="p">,</span> <span class="s2">&quot;keys&quot;</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">other</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="o">]]</span>

<span class="n">instruments</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span>
  <span class="n">f</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
    <span class="n">instr</span> <span class="o">=</span> <span class="no">Instrument</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="nb">name</span><span class="p">:</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">first_or_initialize</span>
    <span class="n">instr</span><span class="o">.</span><span class="n">family</span> <span class="o">=</span> <span class="n">f</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="n">instr</span><span class="o">.</span><span class="n">save!</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<p>Now I&#39;ll need to use a tagging system to attach both Instruments and general Tags to objects. I&#39;m leaning toward <a href="https://github.com/mbleigh/acts-as-taggable-on">As Taggable On</a>, which apparently was written by an old childhood friend of mine. Awesome!</p>

<p><img src="../blog_media/drawing02.jpg" class="inline_right" />
The art class is going well. Value and shading are still pretty tough for me because I&#39;ve spent the last few years just doing line drawings for comics. I also have a tendency to draw pretty lightly (which is probably also a result of erasing pencil lines for comics). I don&#39;t think I&#39;ll leave this class a brilliant artist, but but I&#39;m certainly learning things and getting better.</p>

</div>

<div class="back_to_blog"><a href="../blog"><i class="icon-arrow-left"></i> back to blog</a></div>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'dinosaurseateverybody'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>    

